import{r as t,h as a}from"./p-fa95141f.js";const i=class{constructor(a){t(this,a),this.images=[],this.imageUrl=""}watchHandler(t,a){a!==t&&(this.images=[],this.updateImage())}connectedCallback(){this.updateImage()}handleClick(){this.updateImage()}async fetchGifs(){let t="cat";this.keyword&&(t+=` ${this.keyword}`);const a=`${window.location.protocol}//api.giphy.com/v1/gifs/search?api_key=gwWthNT5DFpvrh04kt4PYiakYO12aM3B&q=${encodeURI(t)}`,i=await fetch(a),s=await i.json();this.images=s.data.map(t=>t.images.original.url)}async getRandomImageUrl(){return this.images.length||await this.fetchGifs(),this.images[Math.floor(Math.random()*this.images.length)]}async updateImage(){this.imageUrl=await this.getRandomImageUrl()}render(){return a("img",{src:this.imageUrl,alt:`Cat${this.keyword?" "+this.keyword:""} gif`})}static get watchers(){return{keyword:["watchHandler"]}}static get style(){return"img{border:10px solid purple}"}};export{i as cat_gif};